<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      html,
      body {
        width: 100%;
        height: 100%;
        margin: 0;
        position: absolute;
        padding: 0px 0 0 0;
      }

      #mapCanvas {
        padding: 0;
      }
    </style>

    <script src="wind.js"></script>
  </head>

  <body class="">
    <canvas id="mapCanvas" style="height: 100%"> </canvas>
    <script>
      var windy;
      var canvas;
      fetch('./gfs.json')
        .then((res) => res.json())
        .then(
          function (response) {
            console.log('ðŸš€ ~ response:', response);
            canvas = document.getElementById('mapCanvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            windy = new Windy({ canvas, data: response });
            redraw();
          },
          function (error) {
            console.log('Error: ', error.message);
          }
        );

      function redraw() {
        windy.stop();
        /**
         * 
         * "uMin": -18.22,
  "uMax": 23.94,
  "vMin": -20.24,
  "vMax": 21
  **/

        setTimeout(function () {
          windy.start(
            [
              [0, 0],
              [canvas.width, canvas.height]
            ],
            canvas.width,
            canvas.height,
            [
              [0, 0],
              [90, 90]
            ]
          );
        }, 500);
      }
    </script>
  </body>
</html>
